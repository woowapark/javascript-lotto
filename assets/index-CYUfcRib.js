var O=o=>{throw TypeError(o)};var C=(o,t,e)=>t.has(o)||O("Cannot "+e);var a=(o,t,e)=>(C(o,t,"read from private field"),e?e.call(o):t.get(o)),u=(o,t,e)=>t.has(o)?O("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),h=(o,t,e,n)=>(C(o,t,"write to private field"),n?n.call(o,e):t.set(o,e),e),m=(o,t,e)=>(C(o,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();const p={minLength:1,maxLength:45,winningNumbersLength:6,bonusMatchCount:5,lottoBaseTicketPrice:1e3,roundingStandard:100},S={ticketEmoji:"üéüÔ∏è",ticketCount(o){return`Ï¥ù ${o}Í∞úÎ•º Íµ¨Îß§ÌñàÏäµÎãàÎã§.`},totalProfit(o){return`ÎãπÏã†Ïùò Ï¥ù ÏàòÏùµÎ•†ÏùÄ ${o}%ÏûÖÎãàÎã§.`}},F={validate(o){this.validateDividedUnit(o)}};class I{static validatePurchasePrice(t){try{return F.validate(t),!0}catch(e){return alert(e.message),!1}}}function W(o,t){return Math.floor(Math.random()*(t-o+1)+o)}var v,N,$;class U{constructor(t){u(this,N);u(this,v);h(this,v,m(this,N,$).call(this,t))}generateLotto(){const{winningNumbersLength:t,minLength:e,maxLength:n}=p,r=new Set;for(;r.size<t;){const i=W(e,n);r.add(i)}return Array.from(r).sort((i,d)=>i-d)}get generatedLottos(){return a(this,v)}}v=new WeakMap,N=new WeakSet,$=function(t){return Array.from({length:t},()=>this.generateLotto())};const g={three:{price:5e3,number:3},four:{price:5e4,number:4},five:{price:15e5,number:5},fiveBonus:{price:3e7,number:5},six:{price:2e9,number:6}},V="fiveBonus",y={displayTicketCount(o){return S.ticketCount(o)},displayGeneratedLottos(o){const t=document.createElement("ul");return t.setAttribute("id","generated-lotto-contents"),t.setAttribute("class","generated-lotto-contents"),o.forEach(e=>{const n=document.createElement("li");n.textContent=`${S.ticketEmoji} ${e.join(", ")}`,t.appendChild(n)}),t},displayStatistics(o){const t=document.createElement("tbody");return t.setAttribute("id","lotto-statistics-tbody"),Object.keys(o).forEach(n=>{const r=document.createElement("tr"),{number:i,price:d}=g[n],q=n===V?" + Î≥¥ÎÑàÏä§Î≥º":"",j=o[n],E=document.createElement("td"),T=document.createElement("td"),w=document.createElement("td");E.textContent=`${i}Í∞ú${q}`,T.textContent=`${d.toLocaleString()}Ïõê`,w.textContent=`${j}Í∞ú`,r.appendChild(E),r.appendChild(T),r.appendChild(w),t.appendChild(r)}),t},displayTotalProfit(o){return S.totalProfit(o)}};function s(o){return document.querySelector(o)}function D(o){return document.querySelectorAll(o)}class P{static getTicketCount(t){return t/p.lottoBaseTicketPrice}static generateLottos(t){return new U(t).generatedLottos}static displayGeneratedLottoInfo(t,e){this.displayTicketCount(t),this.displayGeneratedLottos(e)}static displayTicketCount(t){s("#total-ticket-count").textContent=y.displayTicketCount(t)}static displayGeneratedLottos(t){const e=s("#generated-lotto-contents");e&&e.remove(),s("#generated-lotto-container").appendChild(y.displayGeneratedLottos(t))}}const B={validateWinningNumbers(o){this.validateLength(o),this.validateUniqueNumber(o),this.validateWinningNumbersRange(o)},validateBonusNumber(o,t){this.validateRange(t),this.validateUniqueNumber([...o,t])}};class M{static setLottoNumbers(){const t=Array.from(D(".lotto-number-input")).map(n=>Number(n.value)),e=Number(s("#bonus-number-input").value);return{winningNumbers:t,bonusNumber:e}}static validateLottoNumbers(t){try{return B.validateWinningNumbers(t.winningNumbers),B.validateBonusNumber(t.winningNumbers,t.bonusNumber),!0}catch(e){return alert(e.message),!1}}}var l,c,A,_,x,G,R;class K{constructor(t,e){u(this,c);u(this,l);h(this,l,{three:0,four:0,five:0,fiveBonus:0,six:0}),m(this,c,G).call(this,t,e)}getMatchedNumbersLength(t,e){return t.filter(n=>e.includes(n)).length}isEqualBonusNumber(t,e){return e.includes(t)}calculateTotalProfit(t){const n=m(this,c,R).call(this)/(t*p.lottoBaseTicketPrice)*.01;return Math.round(n*p.roundingStandard)/p.roundingStandard}get lottoStatistics(){return a(this,l)}}l=new WeakMap,c=new WeakSet,A=function(t){Object.keys(g).forEach(e=>{g[e].number===t&&a(this,l)[e]++})},_=function(t,e){if(this.isEqualBonusNumber(t,e)){a(this,l).fiveBonus++;return}a(this,l).five++},x=function(t,e){const{winningNumbers:n,bonusNumber:r}=t,i=this.getMatchedNumbersLength(n,e);if(i===p.bonusMatchCount){m(this,c,_).call(this,r,e);return}m(this,c,A).call(this,i)},G=function(t,e){for(let n=0;n<e.length;n++)m(this,c,x).call(this,t,e[n])},R=function(){return Object.keys(g).reduce((e,n)=>e+g[n].price*a(this,l)[n],0)};class z{static calculateAndShowResults(t,e,n){const r=new K(t,e);this.showLottoStatistics(r),this.showTotalProfit(r,n)}static showLottoStatistics(t){const e=t.lottoStatistics,n=s("#lotto-statistics-tbody");n&&n.remove(),s("#lotto-statistics-table").appendChild(y.displayStatistics(e))}static showTotalProfit(t,e){const n=t.calculateTotalProfit(e);s("#profit-text").textContent=y.displayTotalProfit(n)}}function H(){s("#modal-wrapper").classList.remove("hidden-modal"),s("#modal-wrapper").classList.add("modal-wrapper")}function k(){s("#modal-wrapper").classList.add("hidden-modal"),s("#modal-wrapper").classList.remove("modal-wrapper")}var b,L,f;class J{constructor(){u(this,b);u(this,L);u(this,f);h(this,f,{winningNumbers:null,bonusNumber:null}),this.initEventListeners()}initEventListeners(){this.initSubmitFormEventListeners(),this.initCloseModalEventListeners(),s("#restart-button").addEventListener("click",this.handleRestartButton.bind(this))}initSubmitFormEventListeners(){s("#lotto-purchase-form").addEventListener("submit",this.handleLottoPurchaseSubmit.bind(this)),s("#lotto-numbers-form").addEventListener("submit",this.handleLottoNumbersSubmit.bind(this))}initCloseModalEventListeners(){s("#close-button").addEventListener("click",k),s("#modal-wrapper").addEventListener("click",k)}handleLottoPurchaseSubmit(t){t.preventDefault();const e=s("#lotto-purchase-input").value;I.validatePurchasePrice(e)&&(h(this,b,P.getTicketCount(e)),h(this,L,P.generateLottos(a(this,b))),P.displayGeneratedLottoInfo(a(this,b),a(this,L)),s("#hidden-form").classList.remove("hidden-form"))}handleLottoNumbersSubmit(t){t.preventDefault(),h(this,f,M.setLottoNumbers()),M.validateLottoNumbers(a(this,f))&&(H(),z.calculateAndShowResults(a(this,f),a(this,L),a(this,b)))}handleRestartButton(){location.reload()}}b=new WeakMap,L=new WeakMap,f=new WeakMap;new J;
